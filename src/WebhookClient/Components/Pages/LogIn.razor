@page "/login"
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@inject NavigationManager Nav
@code {
    [SupplyParameterFromQuery] public string? ReturnUrl { get; set; }
    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            if (!string.IsNullOrEmpty(ReturnUrl))
            {
                var returnUrl = new Uri(ReturnUrl, UriKind.Relative);
                Nav.NavigateTo(returnUrl.ToString(), replace: false);
            }
            else
            {
                Nav.NavigateTo("/", replace: false);
            }
        }

    }
}
